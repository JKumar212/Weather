const cityList = [
  "New York",
  "Los Angeles",
  "Chicago",
  "Houston",
  "Phoenix",
  "Philadelphia",
  "San Antonio",
  "San Diego",
  "Dallas",
  "San Jose",
  "Austin",
  "Jacksonville",
  "Fort Worth",
  "Columbus",
  "San Francisco",
  "Charlotte",
  "Indianapolis",
  "Seattle",
  "Denver",
"Mumbai",
"Delhi",
"Bengaluru",
"Hyderabad",
"Ahmedabad",
"Chennai",
"Kolkata",
"Surat",
"Pune",
"Jaipur",
"Lucknow",
"Kanpur",
"Nagpur",
"Indore",
"Thane",
"Bhopal",
"Visakhapatnam",
"Pimpri-Chinchwad",
"Patna",
"Vadodara",
"Jorhat",
"Dibrugarh",
"Silchar",
"Nagaon",
"Tezpur",
"Tinsukia",
"Shillong",
"Aizawl",
"Agartala",
"Imphal",
"Kohima",
"Itanagar",
"Dimapur",
"Dispur",
"Begusarai",
"Barasat",
"Raichur",
"Panipat",
"Darbhanga",
"Bathinda",
"Aizawl",
"Ichalkaranji",
"Tirupati",
"Karnal",
"Kakinada",
"Bhagalpur",
"Panvel",
"Gandhinagar",
"Shimoga",
"Shimla",
"Rewa",
"Tiruvottiyur",
"Purnia",
"Hazaribagh",
"Katihar",
"Sambalpur",
"Junagadh",
"Bharatpur",
"Anantapur",
"Farrukhabad",
"Baranagar",
"Tiruvannamalai",
"Parbhani",
"Rohtak",
"Yamunanagar",
"Bijapur",
"Ratlam",
"Ambala",
"Bharuch",
"Sagar",
"Bihar Sharif",
"Alappuzha",
"Rampur",
"Pali",
"Satna",
"Karnal",
"Hindupur",
"Haldwani",
"Bidar",
"Madhyamgram",
"Abohar",
"Bongaigaon",
"Darjiling",
"Raiganj",
"Kharagpur",
"Chinsurah",
"Unnao",
"Bettiah",
"Chhapra",
"Kishanganj",
"Arrah",
"Motihari",
"Siwan",
"Sasaram",
"Munger",
"Katni",
"Hoshangabad",
"Nangloi Jat",
"Buxar",
"Bikramganj",
"Dumka",
"Palamu",
"Deoghar",
"Chaibasa",
"Jorhat",
"Golaghat",
"Lakhimpur",
"Diphu",
"Dhemaji",
"North Lakhimpur",
"Naharlagun",
"Zunheboto",
"Serchhip",
"Mokokchung",
"Churachandpur",
"Ukhrul",
"Wokha",
"Tura",
"Nongstoin",
"Williamnagar",
"Aalo",
"Pasighat",
"Changlang",
"Longleng",
"Phek",
"Tuensang",
"Ziro",
"Bomdila",
"Daporijo",
"Roing",
"Tezu",
"Anini",
"Khonsa",
"Seppa",
"Along",
"Shillong",
"Agartala",
"Imphal",
"Aizawl",
"Kohima",
"Itanagar",
"Dispur",
"Silchar",
"Dibrugarh",
"Tinsukia",
"Nagaon",
"Tezpur",
"Barpeta",
"Karimganj",
"Hailakandi",
"Dhubri",
"Goalpara",
"North Guwahati",
"Byasanagar",
"Jagatsinghpur",
"Balasore",
"Angul",
"Kendrapara",
"Bargarh",
"Rayagada",
"Jeypore",
"Koraput",
"Jharsuguda",
"Sambalpur",
"Berhampur",
"Rourkela",
"Balangir",
"Keonjhar",
"Nabarangpur",
"Kalahandi",
"Malkangiri",
"Nuapada",
"Paralakhemundi",
"Brahmapur",
"Kendujhar",
"Dhenkanal",
"Bhawanipatna",
"Titlagarh",
"Sundargarh",
"Chandrapur",
"Gondia",
"Yavatmal",
"Wardha",
"Chhindwara",
"Seoni",
"Mandla",
"Betul",
"Harda",
"Damoh",
"Sagar",
"Datia",
"Tikamgarh",
"Panna",
"Shivpuri",
"Ashoknagar",
"Sehore",
"Vidisha",
"Raisen",
"Dewas",
"Neemuch",
"Mandsaur",
"Ratlam",
"Morena",
"Guna",
"Khargone",
"Burhanpur",
"Barwani",
"Khandwa",
"Rewa",
"Satna",
"Shahdol",
"Anuppur",
"Umaria",
"Guwahati",
"Sidhi",
"Singrauli",
"Chhatarpur",
"Narsinghpur",
"Balaghat",
"Katni",
"Dindori",
"Jabalpur",
"Indore",
"Bhopal",
"Ujjain",
"Gwalior",
"Rajgarh",
"Vidisha",
"Chhatarpur",
"Datia",
"Damoh",
"Shajapur",
"Mandsaur",
"Neemuch",
"Sheopur",
"Baran",
"Kota",
"Jhalawar",
"Bundi",
"Sawai Madhopur",
"Tonk",
"Dausa",
"Jaipur",
"Alwar",
"Bharatpur",
"Jhunjhunu",
"Sikar",
"Nagaur",
"Churu",
"Bikaner",
"Jodhpur",
"Pali",
"Ajmer",
"Bhilwara",
"Rajsamand",
"Udaipur",
"Chittorgarh",
"Dungarpur",
"Banswara",
"Sirohi",
"Jalore",
"Barmer",
"Jaisalmer",
"Hanumangarh",
"Sri Ganganagar",
"Ambala",
"Panchkula",
"Yamunanagar",
"Kurukshetra",
"Karnal",
"Panipat",
"Sonipat",
"Rohtak",
"Jhajjar",
"Rewari",
"Mahendragarh",
"Gurgaon",
"Faridabad",
"Palwal",
"Hisar",
"Fatehabad",
"Sirsa",
"Kaithal",
"Jind",
"Bhiwani",
"Charkhi Dadri",
"Bilaspur",
"Raigarh",
"Korba",
"Durg",
"Rajnandgaon",
"Balod",
"Kanker",
"Dhamtari",
"Mahasamund",
"Kawardha",
"Bemetara",
"Mungeli",
"Surguja",
"Ambikapur",
"Jashpur",
"Raipur",
"Bastar",
"Jagdalpur",
"Dantewada",
"Bijapur",
"Kondagaon",
"Narayanpur",
"Sukma",
"Balrampur",
"Surajpur",
"Korea",
"Janjgir-Champa",
"Champa",
"Janjgir",
"Sakti",
"Sarangarh",
"Kharsia",
"Dharamjaigarh",
"Pathalgaon",
"Baikunthpur",
"Manendragarh",
"Mahasamund",
"Basna",
"Pithora",
"Bagbahara",
"Baloda Bazar",
"Simga",
"Tilda",
"Arang",
"Palari",
"Bhatapara",
"Bilha",
"Takhatpur",
"Masturi",
"Pamgarh",
"Ratanpur",
"Kharora",
"Kurud",
"Kasdol",
"Balodabazar",
"Sargaon",
"Katghora",
"Pali",
"Barpali",
"Sundargarh",
"Deogarh",
"Bhawanipatna",
"Rayagada",
"Gunupur",
"Phulbani",
"Baliguda",
"Nayagarh",
"Kandhamal",
"Gajapati",
"Paralakhemundi",
"Chatrapur",
"Aska",
"Hinjilicut",
"Bhanjanagar",
"Rambha",
"Berhampur",
"Rourkela",
"Jharsuguda",
"Brajarajnagar",
"Belpahar",
"Umerkote",
"Jeypore",
"Nabarangpur",
"Koraput",
"Sunabeda",
"Bhawanipatna",
"Kesinga",
"Muniguda",
"Titlagarh",
"Kantabanji",
"Balangir",
"Patnagarh",
"Saintala",
"Bargarh",
"Barpali",
"Padampur",
"Gaisilat",
"Ambapani",
"Loisingha",
"Sambalpur",
"Kuchinda",
"Redhakhol",
"Burla",
"Hirakud",
"Deogarh",
"Tileibani",
"Angul",
"Talcher",
"Banarpal",
"Athmallik",
"Pallahara",
"Dhenkanal",
"Kamakshyanagar",
"Bhadrak",
"Basudevpur",
"Dhamnagar",
"Chandabali",
"Jajpur",
"Vyasnagar",
"Dharmasala",
"Sukinda",
"Binjharpur",
"Panikoili",
"Kendrapara",
"Patkura",
"Rajnagar",
"Aul",
"Chandabali",
"Mahakalapada",
"Paradip",
"Kujang",
"Jagatsinghpur",
"Naugaon",
"Balikuda",
"Tirtol",
"Biridi",
"Kakatpur",
"Astaranga",
"Nimapara",
"Delang",
"Satyabadi",
"Pipili",
"Gop",
"Khurda",
"Jatni",
"Begunia",
"Balugaon",
"Banapur",
"Chilika",
"Buguda",
"Polasara",
"Kabisuryanagar",
"Bellaguntha",
"Aska",
"Bhanjanagar",
"Khalikote",
"Kodala",
"Chhatrapur",
"Gopalpur",
"Rambha",
"Paralakhemundi",
"Digapahandi",
"Chikiti",
"Hinjilicut",
"Surada",
"Patrapur",
"R.Udaygiri",
"Rayagada",
"Gunupur",
"Bissamcuttack",
"Muniguda",
"Therubali",
"Koraput",
"Sunabeda",
"Jeypore",
"Semiliguda",
"Pottangi",
"Lamtaput",
"Nabarangpur",
"Umerkote",
"Raigarh",
"Dharamjaigarh",
"Gharghoda",
"Kharsia",
"Sarangarh",
"Pathalgaon",
"Ambikapur",
"Surajpur",
"Premnagar",
"Sitapur",
"Ramanujganj",
"Balrampur",
"Samri",
"Rajpur",
"Kusmi",
"Bharatpur",
"Kota",
"Dholpur",
"Sawai Madhopur",
"Tonk",
"Ajmer",
"Beawar",
"Kekri",
"Nasirabad",
"Bhilwara",
"Gulabpura",
"Shahpura",
"Chittorgarh",
"Kapasan",
"Nimbahera",
"Begun",
"Rawatbhata",
"Banswara",
"Bagidora",
"Garhi",
"Pratapgarh",
"Arnod",
"Chhoti Sadri",
"Dungarpur",
"Aspur",
"Salumber",
"Rishabhdeo",
"Udaipur",
"Jhadol",
"Girwa",
"Rajsamand",
"Amet",
"Devgarh",
"Railmagra",
"Kumbhalgarh",
"Bhilwara",
"Kota",
"Baran",
"Anta",
"Atru",
"Kawai",
"Chhabra",
"Shahabad",
"Jhalawar",
"Aklera",
"Pirawa",
"Sangod",
"Chechat",
"Mangrol",
"Bundi",
"Talera",
"Keshoraipatan",
"Nainwa",
"Hindoli",
"Tonk",
"Malpura",
"Uniara",
"Niwai",
"Sawai Madhopur",
"Bonli",
"Khandar",
"Chauth Ka Barwara",
"Indargarh",
"Lalsot",
"Bandikui",
"Dausa",
"Mahwa",
"Sikrai",
"Baswa",
"Lawan",
"Alwar",
"Behror",
"Khairthal",
"Bansur",
"Thanagazi",
"Tijara",
"Rajgarh",
"Nagar",
"Kishangarh Bas",
"Mandawar",
"Ramgarh",
"Govindgarh",
"Bharatpur",
"Nadbai",
"Bayana",
"Deeg",
"Kumher",
"Weir",
"Rupbas",
"Jaipur",
"Chomu",
"Phulera",
"Jobner",
"Sambhar",
"Bagru",
"Mansarovar",
"Sanganer",
"Amber",
"Jhotwara",
"Amer",
"Jhalana",
"Malviya Nagar",
"Vaishali Nagar",
"Murlipura",
"Vidhyadhar Nagar",
"Mansarovar",
"Ghat Gate",
"Adarsh Nagar",
"Tonk Road",
"Ajmer",
"Pushkar",
"Beawar",
"Kekri",
"Nasirabad",
"Bijainagar",
"Masuda",
"Sarwar",
"Parbatsar",
"Kishangarh",
"Jaitaran",
"Raipur",
"Bhinmal",
"Jalore",
"Ahore",
"Sanchore",
"Sayla",
"Raniwara",
"Bagra",
"Umedabad",
"Bagoda",
"Chitalwana",
"Bhinmal",
"Reodar",
"Mount Abu",
"Abu Road",
"Pindwara",
"Sirohi",
"Sheoganj",
"Rani",
"Falna",
"Bali",
"Desuri",
"Sadri",
"Jawai",
"Pali",
"Marwar Junction",
"Jaitaran",
"Bilara",
"Rohat",
"Sojat",
"Raipur",
"Jodhpur",
"Phalodi",
"Osian",
"Bilara",
"Bap",
"Luni",
"Pipar City",
"Mandore",
"Sardarpura",
"Shastri Nagar",
"Chopasni Housing Board",
"Basni",
"Pal Road",
"Shikargarh",
"Jaswantpura",
"Jaswantgarh",
"Bhopalgarh",
"Khejrali",
"Barmer",
"Balotra",
"Baytu",
"Gudamalani",
"Chohtan",
"Sheo",
"Siwana",
"Jaisalmer",
"Pokhran",
"Sam",
"Ramgarh",
"Fatehgarh",
"Devikot",
"Bikaner",
"Nokha",
"Lunkaransar",
"Kolayat",
"Deshnoke",
"Khajuwala",
"Mahajan",
"Dungargarh",
"Churu",
"Taranagar",
"Ratangarh",
"Rajgarh",
"Sardarshahar",
"Sujangarh",
"Fatehpur",
"Bidasar",
"Jhunjhunu",
"Mandawa",
"Nawalgarh",
"Pilani",
"Chirawa",
"Surajgarh",
"Bissau",
"Khetri",
"Udaipurwati",
"Alsisar",
"Ajitgarh",
"Sikar",
"Fatehpur Shekhawati",
"Laxmangarh",
"Neem Ka Thana",
"Danta Ramgarh",
"Reengus",
"Losal",
"Shrimadhopur",
"Harirampur",
"Khandela",
"Palsana",
"Jaipur",
"Jais",
"Musafirkhana",
"Gauriganj",
"Amethi",
"Salon",
"Tikar",
"Sultanpur",
"Dostpur",
"Lambhua",
"Kadipur",
"Jagdishpur",
"Pratapgarh",
"Raniganj",
"Kunda",
"Babaganj",
"Lalganj",
"Kalakankar",
"Manikpur",
"Allahabad",
"Phulpur",
"Soraon",
"Karchhana",
"Koraon",
"Meja",
"Handia",
"Bara",
"Jhunsi",
"Shankargarh",
"Chaka",
"Ghoorpur",
"Lucknow",
"Malihabad",
"BKT",
"Mohanlalganj",
"Sarojini Nagar",
"Bakshi Ka Talab",
"Gosainganj",
"Chinhat",
"Mohanlalganj",
"Barabanki",
"Zaidpur",
"Haidergarh",
"Ramnagar",
"Dewa",
"Kursi",
"Masauli",
"Fatehpur",
"Bhadarsa",
"Raebareli",
"Dalmau",
"Gauriganj",
"Tiloi",
"Unchahar",
"Salon",
"Maharajganj",
"Shivgarh",
"Ghazipur",
"Zamania",
"Sayyedraja",
"Dildarnagar",
"Jamania",
"Sadat",
"Seorahi",
"Mohammadabad",
"Buxar",
"Ballia",
"Bairia",
"Rasra",
"Bansdih",
"Belthara Road",
"Reoti",
"Sikandarpur",
"Nagwa",
"Varanasi",
"Cholapur",
"Kashi Vidyapeeth",
"Pindra",
"Arajiline",
"Shivpur",
"Harhua",
"Lohta",
"Mau",
"Maunath Bhanjan",
"Ghosi",
"Dohrighat",
"Adari",
"Ratanpura",
"Kopaganj",
"Azamgarh",
"Mehnagar",
"Phulpur",
"Nizamabad",
"Atraulia",
"Bilariaganj",
"Jiyanpur",
"Sarai Mir",
"Amilo",
"Shahganj",
"Jaunpur",
"Badlapur",
"Mariahu",
"Kerakat",
"Machhlishahr",
"Mirzapur",
"Chunar",
"Vindhyachal",
"Lalganj",
"Robertsganj",
"Duddhi",
"Obra",
"Ghorawal",
"Renukoot",
"Pipri",
"Shaktinagar",
"Dala",
"Karwi",
"Banda",
"Naraini",
"Atarra",
"Chitrakoot",
"Mahoba",
"Kabrai",
"Rath",
"Kulpahar",
"Hamirpur",
"Maudaha",
"Gohand",
"Kurara",
"Jalaun",
"Orai",
"Konch",
"Kalpi",
"Etawah",
"Bhind",
"Auraiya",
"Dibiyapur",
"Ajitmal",
"Kanpur",
"Bilhaur",
"Bilhaur",
"Ghatampur",
"Rasulabad",
"Akbarpur",
"Dehat",
"Sachendi",
"Unnao",
"Safipur",
"Bangarmau",
"Hasanganj",
"Fatehpur",
"Khaga",
"Bindki",
"Bahua",
"Kaushambi",
"Chail",
"Manjhanpur",
"Sirathu",
"Rajapur",
"Soraon",
"Phulpur",
"Handia",
"Bhadohi",
"Gyanpur",
"Suriyawan",
"Baraut",
"Muradnagar",
"Modinagar",
"Hapur",
"Pilkhuwa",
"Garhmukteshwar",
"Amroha",
"Hasanpur",
"Dhanaura",
"Moradabad",
"Kundarki",
"Thakurdwara",
"Bilari",
"Rampur",
"Suar",
"Bilaspur",
"Shahabad",
"Bareilly",
"Aonla",
"Baheri",
"Faridpur",
"Nawabganj",
"Shahjahanpur",
"Tilhar",
"Jalalabad",
"Powayan",
"Pilibhit",
"Barkhera",
"Puranpur",
"Bisalpur",
"Lakhimpur",
"Gola Gokarannath",
"Mirzapur",
"Balrampur",
"Gonda",
"Bahraich",
"Nanpara",
"Jarwal",
"Tulsipur",
"Utraula",
"Shrawasti",
"Bhinga",
"Dispur",
"Silchar",
"Dibrugarh",
"Jorhat",
"Nagaon",
"Tinsukia",
"Tezpur",
"Bongaigaon",
"Karimganj",
"Goalpara",
"North Lakhimpur",
"Sivasagar",
"Barpeta",
"Dhubri",
"Diphu",
"Hailakandi",
"Golaghat",
"Nalbari",
"Morigaon",
"Mariani",
"Dergaon",
"Rangia",
"Mangaldoi",
"Kokrajhar",
"Udalguri",
"Biswanath Chariali",
"Titabor",
"Dhemaji",
"Golakganj",
"Pathsala",
"Gauripur",
"Abhayapuri",
"Lanka",
"Nazira",
"Lumding",
"Sibsagar",
"Duliajan",
"Digboi",
"Jagiroad",
"Sarupathar",
"Badarpur",
"Hojai",
"Barpathar",
"Howly",
"Bilasipara",
"Barpeta Road",
"Chirang",
"Margherita",
"Makum",

"Bongaigaon",
"Dhubri",
"Barpeta",
"Karimganj",
"Hailakandi",
"Goalpara",
  "Washington",
  "Boston",
  "El Paso",
  "Nashville",
  "Detroit",
  "Oklahoma City",
  "Portland",
  "Las Vegas",
  "Memphis",
  "Louisville",
  "Baltimore"
  // ðŸ‘‰ You can add up to 1000+ cities here
];

const cityInput = document.getElementById("cityInput");
const suggestions = document.getElementById("suggestions");

cityInput.addEventListener("input", () => {
  const input = cityInput.value.toLowerCase();
  suggestions.innerHTML = "";

  if (input.length >= 2) {
    const matchedCities = cityList.filter(city =>
      city.toLowerCase().startsWith(input)
    );

    matchedCities.forEach(city => {
      const li = document.createElement("li");
      li.textContent = city;
      li.addEventListener("click", () => {
        cityInput.value = city;
        suggestions.innerHTML = "";
        fetchAirQuality(city);
      });
      suggestions.appendChild(li);
    });
  }
});

function fetchAirQuality(city) {
  fetch(`https://air-quality-by-api-ninjas.p.rapidapi.com/v1/airquality?city=${city}`, {
    method: 'GET',
    headers: {
      'X-RapidAPI-Key': '29319182famsh79992c05fef05dbp1161f2jsnaa44ff3138f4', // <-- Replace with your actual RapidAPI key
      'X-RapidAPI-Host': 'air-quality-by-api-ninjas.p.rapidapi.com'
    }
  })
    .then(response => response.json())
    .then(data => {
      document.getElementById("co").textContent = `CO: ${data.CO.concentration} Âµg/mÂ³`;
      document.getElementById("no2").textContent = `NOâ‚‚: ${data.NO2.concentration} Âµg/mÂ³`;
      document.getElementById("o3").textContent = `Oâ‚ƒ: ${data.O3.concentration} Âµg/mÂ³`;
      document.getElementById("so2").textContent = `SOâ‚‚: ${data.SO2.concentration} Âµg/mÂ³`;
      document.getElementById("pm25").textContent = `PM2.5: ${data["PM2.5"].concentration} Âµg/mÂ³`;
      document.getElementById("pm10").textContent = `PM10: ${data.PM10.concentration} Âµg/mÂ³`;

      const aqi = data.overall_aqi;
      const aqiBox = document.getElementById("aqiBox");
      aqiBox.textContent = `AQI: ${aqi}`;
      aqiBox.style.background = getAQIColor(aqi);
    })
    .catch(err => {
      console.error("Error fetching data: ", err);
      alert("Failed to fetch air quality data. Try another city.");
    });
}

function getAQIColor(aqi) {
  if (aqi <= 50) return "#00e400";      // Good
  if (aqi <= 100) return "#ffff00";     // Moderate
  if (aqi <= 150) return "#ff7e00";     // Unhealthy for Sensitive Groups
  if (aqi <= 200) return "#ff0000";     // Unhealthy
  if (aqi <= 300) return "#8f3f97";     // Very Unhealthy
  return "#7e0023";                     // Hazardous
}

// Developer section toggle
document.getElementById("developerBtn").addEventListener("click", () => {
  document.getElementById("developerInfo").classList.toggle("hidden");
});
